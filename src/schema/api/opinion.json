{
  "$id": "opinion.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Opinion",
  "type": "object",
  "properties": {
    "resource_uri": {
      "type": "string"
    },
    "id": {
      "type": "string"
    },
    "absolute_url": {
      "type": "string"
    },
    "cluster_id": {
      "type": "string"
    },
    "cluster": {
      "type": "string"
    },
    "author": {
      "type": "string"
    },
    "joined_by": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "date_created": {
      "type": "string",
      "format": "date-time",
      "description": "The moment when the item was created."
    },
    "date_modified": {
      "type": "string",
      "format": "date-time",
      "description": "The last moment when the item was modified. A value in year 1750 indicates the value is unknown"
    },
    "author_str": {
      "type": "string",
      "description": "The primary author of this opinion, as a simple text string. This field is used when normalized judges cannot be placed into the author field."
    },
    "per_curiam": {
      "type": "boolean",
      "description": "Is this opinion per curiam, without a single author?"
    },
    "joined_by_str": {
      "type": "string",
      "description": "Other judges that joined the primary author in this opinion str"
    },
    "sha1": {
      "type": "string",
      "description": "unique ID for the document, as generated via SHA1 of the binary file or text data",
      "maxLength": 40
    },
    "page_count": {
      "type": "integer",
      "nullable": true,
      "description": "The number of pages in the document, if known"
    },
    "download_url": {
      "type": "string",
      "format": "uri",
      "nullable": true,
      "description": "The URL where the item was originally scraped. Note that these URLs may often be dead due to the court or the bulk provider changing their website. We keep the original link here given that it often contains valuable metadata.",
      "maxLength": 500
    },
    "local_path": {
      "type": "string",
      "format": "binary",
      "description": "The location in AWS S3 where the original opinion file is stored. Note that the field name is historical, from before when we used S3. To find the location in S3, concatenate https://storage.courtlistener.com/ and the value of this field."
    },
    "plain_text": {
      "type": "string",
      "description": "Plain text of the document after extraction using pdftotext, wpd2txt, etc."
    },
    "html": {
      "type": "string",
      "description": "HTML of the document, if available in the original"
    },
    "html_lawbox": {
      "type": "string",
      "description": "HTML of Lawbox documents"
    },
    "html_columbia": {
      "type": "string",
      "description": "HTML of Columbia archive"
    },
    "html_anon_2020": {
      "type": "string",
      "description": "HTML of 2020 anonymous archive"
    },
    "xml_harvard": {
      "type": "string",
      "description": "XML of Harvard CaseLaw Access Project opinion"
    },
    "html_with_citations": {
      "type": "string",
      "description": "HTML of the document with citation links and other post-processed markup added"
    },
    "extracted_by_ocr": {
      "type": "boolean",
      "description": "Whether OCR was used to get this document content"
    },
    "opinions_cited": {
      "type": "array",
      "items": [ 
        {
          "$ref": "#/definitions/OpinionsCited"
        }
      ]
    }
  },
  "required": [
    "citing_opinion",
    "cited_opinion"
  ],
  "definitions":{
    "OpinionsCited": {
      "properties": {
        "resource_uri": {
          "type": "string"
        },
        "id": {
          "type": "string"
        },
        "citing_opinion": {
          "type": "string"
        },
        "cited_opinion": {
          "type": "string"
        },
        "depth": {
          "type": "integer",
          "description": "The number of times the cited opinion was cited in the citing opinion"
        }
      }
    }
  }
}
